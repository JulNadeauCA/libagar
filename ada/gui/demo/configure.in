# Public domain
# ex:syn=bsdbuild
#
# Agar-GUI Ada bindings demo, configure script source.
#
# This is a BSDBuild configure source. The configure script is generated by the
# mkconfigure(1) utility of BSDBuild (http://bsdbuild.hypertriton.com/).
#

package("agar-ada-demo")
version("1.0")

config_guess("../../../mk/config.guess")

register_section("Options specific to agar-ada-demo:")
register("--with-agar[=PREFIX]",     "Location of Agar library [check]")
register("--with-agar-ada[=PREFIX]", "Location of Agar Ada bindings [check]")
register("--enable-warnings",        "Suggested compiler warnings [no]")
register("--enable-debug",           "Enable debugging [no]")

require(cc)
require(ada)
require(agar, 1.6.0, ${prefix_agar})
require(agar-core, 1.6.0, ${prefix_agar})
require(agar.defs, 1.6.0, ${prefix_agar})
require(agar-ada-core, 1.6.0, ${prefix_agar_ada})
require(agar-ada, 1.6.0, ${prefix_agar_ada})

mv -f agar.def agar_ada_demo_agar.def

ada_option(-fstack-check)
ada_option(-gnatVa)
ada_option(-gnato)
ada_option(-gnatE)
ada_option(-gnatep=agar_ada_demo_prep.def)

if [ "${enable_warnings}" = "yes" ]; then
	ada_option(-gnatwaleF)
fi
if [ "${enable_debug}" = "yes" ]; then
	ada_option(-g)
	c_option(-g)
fi

c_incdir($BLD)
c_incdir_config($BLD/config)
