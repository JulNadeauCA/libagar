# Public domain

REGISTER("--enable-warnings",	"Enable compiler warnings [default: no]")

HDEFINE(VERSION, "1.0-alpha")
HDEFINE(RELEASE, "Through Smudged Lenses")

C_DEFINE(_USE_AGAR_QUEUE)
C_DEFINE(_USE_AGAR_STD)

CHECK(cc)
REQUIRE(agar, 1.3)
REQUIRE(agar-net, 1.3)
REQUIRE(agar-dev, 1.3)

if [ "${HAVE_AGAR}" != "yes" ]; then
	echo "This program requires Agar (http://libagar.org/)"
	exit 1
fi
# XXX check for server mode
if [ "${HAVE_AGAR_NET}" != "yes" ]; then
	echo "This program requires that Agar be compiled with network"
	echo "server support (--enable-network --enable-server)"
	exit 1
fi
if [ "${HAVE_AGAR_DEV}" != "yes" ]; then
	echo "This program requires Agar-DEV"
	exit 1
fi

C_INCDIR($SRC)

if [ "${enable_warnings}" = "yes" ]; then
	MDEFINE(CFLAGS, "$CFLAGS -Wall -Werror -Wmissing-prototypes")
	MDEFINE(CFLAGS, "$CFLAGS -Wno-unused")
fi
